// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using ViridiscaUi.Infrastructure;

#nullable disable

namespace ViridiscaUi.Migrations
{
    [DbContext(typeof(ApplicationDbContext))]
    [Migration("20250526183623_AddCategoryAndCodeToCourse")]
    partial class AddCategoryAndCodeToCourse
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.1")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.AuthTokenInfo", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<bool>("IsValid")
                        .HasColumnType("boolean")
                        .HasColumnName("is_valid");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("RefreshToken")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("refresh_token");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("token");

                    b.HasKey("Uid")
                        .HasName("pk_auth_tokens");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("ix_auth_tokens_expires_at");

                    b.HasIndex("RefreshToken")
                        .HasDatabaseName("ix_auth_tokens_refresh_token");

                    b.HasIndex("Token")
                        .HasDatabaseName("ix_auth_tokens_token");

                    b.ToTable("auth_tokens", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.Permission", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<DateTime>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.HasKey("Uid")
                        .HasName("pk_permissions");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("ix_permissions_name");

                    b.ToTable("permissions", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.Role", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("name");

                    b.Property<int>("RoleType")
                        .HasColumnType("integer")
                        .HasColumnName("role_type");

                    b.HasKey("Uid")
                        .HasName("pk_roles");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("ix_roles_name");

                    b.ToTable("roles", (string)null);

                    b.HasData(
                        new
                        {
                            Uid = new Guid("11111111-1111-1111-1111-111111111111"),
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Description = "Системный администратор",
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Name = "Administrator",
                            RoleType = 1
                        },
                        new
                        {
                            Uid = new Guid("22222222-2222-2222-2222-222222222222"),
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Description = "Преподаватель",
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Name = "Teacher",
                            RoleType = 4
                        },
                        new
                        {
                            Uid = new Guid("33333333-3333-3333-3333-333333333333"),
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Description = "Студент",
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Name = "Student",
                            RoleType = 6
                        });
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.RolePermission", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("AssignedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("assigned_at");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("PermissionUid")
                        .HasColumnType("uuid")
                        .HasColumnName("permission_uid");

                    b.Property<Guid?>("PermissionUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("permission_uid1");

                    b.Property<Guid>("RoleUid")
                        .HasColumnType("uuid")
                        .HasColumnName("role_uid");

                    b.Property<Guid?>("RoleUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("role_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_role_permissions");

                    b.HasIndex("PermissionUid")
                        .HasDatabaseName("ix_role_permissions_permission_uid");

                    b.HasIndex("PermissionUid1")
                        .HasDatabaseName("ix_role_permissions_permission_uid1");

                    b.HasIndex("RoleUid1")
                        .HasDatabaseName("ix_role_permissions_role_uid1");

                    b.HasIndex("RoleUid", "PermissionUid")
                        .IsUnique()
                        .HasDatabaseName("ix_role_permissions_role_uid_permission_uid");

                    b.ToTable("role_permissions", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.User", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("DateOfBirth")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("date_of_birth");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("email");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("first_name");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<bool>("IsEmailConfirmed")
                        .HasColumnType("boolean")
                        .HasColumnName("is_email_confirmed");

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_login_at");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("last_name");

                    b.Property<string>("MiddleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("middle_name");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("password_hash");

                    b.Property<string>("PhoneNumber")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("phone_number");

                    b.Property<string>("ProfileImageUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("profile_image_url");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid")
                        .HasColumnName("role_id");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("username");

                    b.HasKey("Uid")
                        .HasName("pk_users");

                    b.HasIndex("Email")
                        .IsUnique()
                        .HasDatabaseName("ix_users_email");

                    b.HasIndex("RoleId")
                        .HasDatabaseName("ix_users_role_id");

                    b.HasIndex("Username")
                        .IsUnique()
                        .HasDatabaseName("ix_users_username");

                    b.ToTable("users", (string)null);

                    b.HasData(
                        new
                        {
                            Uid = new Guid("44444444-4444-4444-4444-444444444444"),
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            DateOfBirth = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Email = "admin@viridisca.local",
                            FirstName = "Admin",
                            IsActive = true,
                            IsEmailConfirmed = true,
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            LastName = "Viridisca",
                            MiddleName = "",
                            PasswordHash = "$2a$11$8EPP7eDbOSFPG6YcVEWzsu81jRo550.5.b9INI7muBAMpfwa3ftcS",
                            PhoneNumber = "",
                            ProfileImageUrl = "",
                            RoleId = new Guid("11111111-1111-1111-1111-111111111111"),
                            Username = "admin"
                        });
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.UserRole", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("assigned_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("RoleUid")
                        .HasColumnType("uuid")
                        .HasColumnName("role_uid");

                    b.Property<Guid>("UserUid")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid");

                    b.Property<Guid?>("UserUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_user_roles");

                    b.HasIndex("RoleUid")
                        .HasDatabaseName("ix_user_roles_role_uid");

                    b.HasIndex("UserUid1")
                        .HasDatabaseName("ix_user_roles_user_uid1");

                    b.HasIndex("UserUid", "RoleUid")
                        .IsUnique()
                        .HasDatabaseName("ix_user_roles_user_uid_role_uid");

                    b.ToTable("user_roles", (string)null);

                    b.HasData(
                        new
                        {
                            Uid = new Guid("55555555-5555-5555-5555-555555555555"),
                            AssignedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            IsActive = true,
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            RoleUid = new Guid("11111111-1111-1111-1111-111111111111"),
                            UserUid = new Guid("44444444-4444-4444-4444-444444444444")
                        });
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Assignment", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid>("CourseId")
                        .HasColumnType("uuid")
                        .HasColumnName("course_id");

                    b.Property<Guid>("CourseUid")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid");

                    b.Property<Guid?>("CourseUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid1");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<int>("Difficulty")
                        .HasColumnType("integer")
                        .HasColumnName("difficulty");

                    b.Property<DateTime?>("DueDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("due_date");

                    b.Property<string>("Instructions")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("instructions");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid?>("LessonUid")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid");

                    b.Property<Guid?>("LessonUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid1");

                    b.Property<double>("MaxGrade")
                        .HasColumnType("double precision")
                        .HasColumnName("max_grade");

                    b.Property<double>("MaxScore")
                        .HasColumnType("double precision")
                        .HasColumnName("max_score");

                    b.Property<Guid?>("ModuleId")
                        .HasColumnType("uuid")
                        .HasColumnName("module_id");

                    b.Property<Guid?>("ModuleUid")
                        .HasColumnType("uuid")
                        .HasColumnName("module_uid");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("title");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_assignments");

                    b.HasIndex("CourseUid")
                        .HasDatabaseName("ix_assignments_course_uid");

                    b.HasIndex("CourseUid1")
                        .HasDatabaseName("ix_assignments_course_uid1");

                    b.HasIndex("LessonUid")
                        .HasDatabaseName("ix_assignments_lesson_uid");

                    b.HasIndex("LessonUid1")
                        .HasDatabaseName("ix_assignments_lesson_uid1");

                    b.ToTable("assignments", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Course", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Category")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("category");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("code");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<int>("Credits")
                        .HasColumnType("integer")
                        .HasColumnName("credits");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_date");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<DateTime?>("StartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_date");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid?>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<Guid?>("TeacherUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid1");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("title");

                    b.HasKey("Uid")
                        .HasName("pk_courses");

                    b.HasIndex("TeacherUid")
                        .HasDatabaseName("ix_courses_teacher_uid");

                    b.HasIndex("TeacherUid1")
                        .HasDatabaseName("ix_courses_teacher_uid1");

                    b.ToTable("courses", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Enrollment", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid>("CourseUid")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid");

                    b.Property<Guid?>("CourseUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid1");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime>("EnrollmentDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("enrollment_date")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.Property<Guid?>("StudentUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_enrollments");

                    b.HasIndex("CourseUid")
                        .HasDatabaseName("ix_enrollments_course_uid");

                    b.HasIndex("CourseUid1")
                        .HasDatabaseName("ix_enrollments_course_uid1");

                    b.HasIndex("StudentUid")
                        .HasDatabaseName("ix_enrollments_student_uid");

                    b.HasIndex("StudentUid1")
                        .HasDatabaseName("ix_enrollments_student_uid1");

                    b.ToTable("enrollments", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Grade", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid?>("AssignmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("assignment_uid");

                    b.Property<string>("Comment")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("comment");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<DateTime>("GradedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("graded_at");

                    b.Property<Guid?>("GradedByUid")
                        .HasColumnType("uuid")
                        .HasColumnName("graded_by_uid");

                    b.Property<bool>("IsPublished")
                        .HasColumnType("boolean")
                        .HasColumnName("is_published");

                    b.Property<DateTime>("IssuedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("issued_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid?>("LessonUid")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid");

                    b.Property<DateTime?>("PublishedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("published_at");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.Property<Guid?>("StudentUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid1");

                    b.Property<Guid>("SubjectUid")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid");

                    b.Property<Guid?>("SubjectUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid1");

                    b.Property<Guid>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<Guid?>("TeacherUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid1");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.Property<decimal>("Value")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasColumnName("value");

                    b.HasKey("Uid")
                        .HasName("pk_grades");

                    b.HasIndex("AssignmentUid")
                        .HasDatabaseName("ix_grades_assignment_uid");

                    b.HasIndex("GradedByUid")
                        .HasDatabaseName("ix_grades_graded_by_uid");

                    b.HasIndex("LessonUid")
                        .HasDatabaseName("ix_grades_lesson_uid");

                    b.HasIndex("StudentUid")
                        .HasDatabaseName("ix_grades_student_uid");

                    b.HasIndex("StudentUid1")
                        .HasDatabaseName("ix_grades_student_uid1");

                    b.HasIndex("SubjectUid")
                        .HasDatabaseName("ix_grades_subject_uid");

                    b.HasIndex("SubjectUid1")
                        .HasDatabaseName("ix_grades_subject_uid1");

                    b.HasIndex("TeacherUid")
                        .HasDatabaseName("ix_grades_teacher_uid");

                    b.HasIndex("TeacherUid1")
                        .HasDatabaseName("ix_grades_teacher_uid1");

                    b.ToTable("grades", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.GradeComment", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid>("AuthorUid")
                        .HasColumnType("uuid")
                        .HasColumnName("author_uid");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("content");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deleted_at");

                    b.Property<Guid>("GradeUid")
                        .HasColumnType("uuid")
                        .HasColumnName("grade_uid");

                    b.Property<Guid?>("GradeUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("grade_uid1");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_deleted");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_grade_comments");

                    b.HasIndex("GradeUid")
                        .HasDatabaseName("ix_grade_comments_grade_uid");

                    b.HasIndex("GradeUid1")
                        .HasDatabaseName("ix_grade_comments_grade_uid1");

                    b.ToTable("grade_comments", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.GradeRevision", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid>("GradeUid")
                        .HasColumnType("uuid")
                        .HasColumnName("grade_uid");

                    b.Property<Guid?>("GradeUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("grade_uid1");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("NewDescription")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("new_description");

                    b.Property<decimal>("NewValue")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasColumnName("new_value");

                    b.Property<string>("PreviousDescription")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("previous_description");

                    b.Property<decimal>("PreviousValue")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasColumnName("previous_value");

                    b.Property<string>("RevisionReason")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("revision_reason");

                    b.Property<Guid>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.HasKey("Uid")
                        .HasName("pk_grade_revisions");

                    b.HasIndex("GradeUid")
                        .HasDatabaseName("ix_grade_revisions_grade_uid");

                    b.HasIndex("GradeUid1")
                        .HasDatabaseName("ix_grade_revisions_grade_uid1");

                    b.ToTable("grade_revisions", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Group", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("code");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid?>("CuratorUid")
                        .HasColumnType("uuid")
                        .HasColumnName("curator_uid");

                    b.Property<Guid>("DepartmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("department_uid");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<DateTime?>("EndDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_date");

                    b.Property<DateTime?>("LastActivityDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_activity_date");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<int>("MaxStudents")
                        .HasColumnType("integer")
                        .HasColumnName("max_students");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<DateTime>("StartDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_date");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid?>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<int>("Year")
                        .HasColumnType("integer")
                        .HasColumnName("year");

                    b.HasKey("Uid")
                        .HasName("pk_groups");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("ix_groups_code");

                    b.HasIndex("CuratorUid")
                        .HasDatabaseName("ix_groups_curator_uid");

                    b.HasIndex("DepartmentUid")
                        .HasDatabaseName("ix_groups_department_uid");

                    b.HasIndex("StartDate")
                        .HasDatabaseName("ix_groups_start_date");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_groups_status");

                    b.HasIndex("TeacherUid")
                        .HasDatabaseName("ix_groups_teacher_uid");

                    b.HasIndex("Year")
                        .HasDatabaseName("ix_groups_year");

                    b.ToTable("groups", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Lesson", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("content");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<TimeSpan?>("Duration")
                        .HasColumnType("interval")
                        .HasColumnName("duration");

                    b.Property<Guid?>("GroupUid")
                        .HasColumnType("uuid")
                        .HasColumnName("group_uid");

                    b.Property<bool>("IsPublished")
                        .HasColumnType("boolean")
                        .HasColumnName("is_published");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("ModuleUid")
                        .HasColumnType("uuid")
                        .HasColumnName("module_uid");

                    b.Property<int>("OrderIndex")
                        .HasColumnType("integer")
                        .HasColumnName("order_index");

                    b.Property<Guid?>("SubjectUid")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid");

                    b.Property<Guid?>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("title");

                    b.Property<string>("Topic")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("topic");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_lessons");

                    b.HasIndex("GroupUid")
                        .HasDatabaseName("ix_lessons_group_uid");

                    b.HasIndex("ModuleUid")
                        .HasDatabaseName("ix_lessons_module_uid");

                    b.HasIndex("SubjectUid")
                        .HasDatabaseName("ix_lessons_subject_uid");

                    b.HasIndex("TeacherUid")
                        .HasDatabaseName("ix_lessons_teacher_uid");

                    b.ToTable("lessons", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.LessonDetail", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<DateTime>("EndTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("end_time");

                    b.Property<string>("GroupName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("group_name");

                    b.Property<bool>("IsCancelled")
                        .HasColumnType("boolean")
                        .HasColumnName("is_cancelled");

                    b.Property<bool>("IsCompleted")
                        .HasColumnType("boolean")
                        .HasColumnName("is_completed");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("LessonUid")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("start_time");

                    b.Property<string>("SubjectName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("subject_name");

                    b.Property<string>("TeacherFirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("teacher_first_name");

                    b.Property<string>("TeacherLastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("teacher_last_name");

                    b.Property<string>("TeacherMiddleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("teacher_middle_name");

                    b.Property<string>("Topic")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("topic");

                    b.HasKey("Uid")
                        .HasName("pk_lesson_details");

                    b.HasIndex("LessonUid")
                        .HasDatabaseName("ix_lesson_details_lesson_uid");

                    b.HasIndex("StartTime")
                        .HasDatabaseName("ix_lesson_details_start_time");

                    b.HasIndex("TeacherLastName", "TeacherFirstName")
                        .HasDatabaseName("ix_lesson_details_teacher_last_name_teacher_first_name");

                    b.ToTable("lesson_details", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.LessonProgress", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed_at");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<bool>("IsCompleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("is_completed");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("LessonUid")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.Property<TimeSpan?>("TimeSpent")
                        .HasColumnType("interval")
                        .HasColumnName("time_spent");

                    b.HasKey("Uid")
                        .HasName("pk_lesson_progress");

                    b.HasIndex("CompletedAt")
                        .HasDatabaseName("ix_lesson_progress_completed_at");

                    b.HasIndex("IsCompleted")
                        .HasDatabaseName("ix_lesson_progress_is_completed");

                    b.HasIndex("LessonUid")
                        .HasDatabaseName("ix_lesson_progress_lesson_uid");

                    b.HasIndex("StudentUid", "LessonUid")
                        .IsUnique()
                        .HasDatabaseName("ix_lesson_progress_student_uid_lesson_uid");

                    b.ToTable("lesson_progress", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Module", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid>("CourseUid")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid");

                    b.Property<Guid?>("CourseUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("course_uid1");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<bool>("IsPublished")
                        .HasColumnType("boolean")
                        .HasColumnName("is_published");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<int>("OrderIndex")
                        .HasColumnType("integer")
                        .HasColumnName("order_index");

                    b.HasKey("Uid")
                        .HasName("pk_modules");

                    b.HasIndex("CourseUid")
                        .HasDatabaseName("ix_modules_course_uid");

                    b.HasIndex("CourseUid1")
                        .HasDatabaseName("ix_modules_course_uid1");

                    b.ToTable("modules", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Student", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("address");

                    b.Property<DateTime>("BirthDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("birth_date");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("email");

                    b.Property<string>("EmergencyContactName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("emergency_contact_name");

                    b.Property<string>("EmergencyContactPhone")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("emergency_contact_phone");

                    b.Property<DateTime>("EnrollmentDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("enrollment_date")
                        .HasDefaultValueSql("CURRENT_DATE");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("first_name");

                    b.Property<DateTime?>("GraduationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("graduation_date");

                    b.Property<Guid?>("GroupUid")
                        .HasColumnType("uuid")
                        .HasColumnName("group_uid");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("last_name");

                    b.Property<string>("MedicalInformation")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("medical_information");

                    b.Property<string>("MiddleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("middle_name");

                    b.Property<string>("Phone")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("phone");

                    b.Property<string>("PhoneNumber")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("phone_number");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<string>("StudentCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("student_code");

                    b.Property<Guid>("UserUid")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid");

                    b.Property<Guid?>("UserUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_students");

                    b.HasIndex("Email")
                        .HasDatabaseName("ix_students_email");

                    b.HasIndex("EnrollmentDate")
                        .HasDatabaseName("ix_students_enrollment_date");

                    b.HasIndex("GroupUid")
                        .HasDatabaseName("ix_students_group_uid");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_students_status");

                    b.HasIndex("StudentCode")
                        .IsUnique()
                        .HasDatabaseName("ix_students_student_code");

                    b.HasIndex("UserUid")
                        .IsUnique()
                        .HasDatabaseName("ix_students_user_uid");

                    b.HasIndex("UserUid1")
                        .HasDatabaseName("ix_students_user_uid1");

                    b.ToTable("students", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.StudentParent", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<bool>("HasAccessToAttendance")
                        .HasColumnType("boolean")
                        .HasColumnName("has_access_to_attendance");

                    b.Property<bool>("HasAccessToGrades")
                        .HasColumnType("boolean")
                        .HasColumnName("has_access_to_grades");

                    b.Property<bool>("IsEmergencyContact")
                        .HasColumnType("boolean")
                        .HasColumnName("is_emergency_contact");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("ParentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("parent_uid");

                    b.Property<Guid>("ParentUserUid")
                        .HasColumnType("uuid")
                        .HasColumnName("parent_user_uid");

                    b.Property<int>("RelationType")
                        .HasColumnType("integer")
                        .HasColumnName("relation_type");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.Property<Guid?>("StudentUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_student_parents");

                    b.HasIndex("ParentUserUid")
                        .HasDatabaseName("ix_student_parents_parent_user_uid");

                    b.HasIndex("StudentUid1")
                        .HasDatabaseName("ix_student_parents_student_uid1");

                    b.HasIndex("StudentUid", "ParentUserUid")
                        .IsUnique()
                        .HasDatabaseName("ix_student_parents_student_uid_parent_user_uid");

                    b.ToTable("student_parents", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Subject", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)")
                        .HasColumnName("code");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<int>("Credits")
                        .HasColumnType("integer")
                        .HasColumnName("credits");

                    b.Property<Guid>("DepartmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("department_uid");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<int>("LessonsPerWeek")
                        .HasColumnType("integer")
                        .HasColumnName("lessons_per_week");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_subjects");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("ix_subjects_code");

                    b.HasIndex("DepartmentUid")
                        .HasDatabaseName("ix_subjects_department_uid");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_subjects_is_active");

                    b.HasIndex("Type")
                        .HasDatabaseName("ix_subjects_type");

                    b.ToTable("subjects", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Submission", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<Guid>("AssignmentId")
                        .HasColumnType("uuid")
                        .HasColumnName("assignment_id");

                    b.Property<Guid>("AssignmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("assignment_uid");

                    b.Property<Guid?>("AssignmentUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("assignment_uid1");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("content");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Feedback")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("feedback");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("file_path");

                    b.Property<Guid?>("GradedByUid")
                        .HasColumnType("uuid")
                        .HasColumnName("graded_by_uid");

                    b.Property<DateTime?>("GradedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("graded_date");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<double?>("Score")
                        .HasColumnType("double precision")
                        .HasColumnName("score");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("StudentId")
                        .HasColumnType("uuid")
                        .HasColumnName("student_id");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.Property<Guid?>("StudentUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid1");

                    b.Property<DateTime>("SubmissionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("submission_date");

                    b.HasKey("Uid")
                        .HasName("pk_submissions");

                    b.HasIndex("AssignmentUid")
                        .HasDatabaseName("ix_submissions_assignment_uid");

                    b.HasIndex("AssignmentUid1")
                        .HasDatabaseName("ix_submissions_assignment_uid1");

                    b.HasIndex("GradedByUid")
                        .HasDatabaseName("ix_submissions_graded_by_uid");

                    b.HasIndex("StudentUid")
                        .HasDatabaseName("ix_submissions_student_uid");

                    b.HasIndex("StudentUid1")
                        .HasDatabaseName("ix_submissions_student_uid1");

                    b.ToTable("submissions", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Teacher", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("AcademicDegree")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("academic_degree");

                    b.Property<string>("AcademicTitle")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("academic_title");

                    b.Property<string>("Bio")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("bio");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<Guid?>("DepartmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("department_uid");

                    b.Property<string>("EmployeeCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("employee_code");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("first_name");

                    b.Property<DateTime>("HireDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("hire_date");

                    b.Property<decimal>("HourlyRate")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)")
                        .HasColumnName("hourly_rate");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("last_name");

                    b.Property<string>("MiddleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("middle_name");

                    b.Property<string>("Phone")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("phone");

                    b.Property<string>("Specialization")
                        .IsRequired()
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)")
                        .HasColumnName("specialization");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<DateTime?>("TerminationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("termination_date");

                    b.Property<Guid>("UserUid")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid");

                    b.Property<Guid?>("UserUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_teachers");

                    b.HasIndex("DepartmentUid")
                        .HasDatabaseName("ix_teachers_department_uid");

                    b.HasIndex("EmployeeCode")
                        .IsUnique()
                        .HasDatabaseName("ix_teachers_employee_code");

                    b.HasIndex("HireDate")
                        .HasDatabaseName("ix_teachers_hire_date");

                    b.HasIndex("Status")
                        .HasDatabaseName("ix_teachers_status");

                    b.HasIndex("UserUid")
                        .IsUnique()
                        .HasDatabaseName("ix_teachers_user_uid");

                    b.HasIndex("UserUid1")
                        .HasDatabaseName("ix_teachers_user_uid1");

                    b.ToTable("teachers", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.TeacherGroup", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("assigned_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("EndedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("ended_at");

                    b.Property<Guid>("GroupUid")
                        .HasColumnType("uuid")
                        .HasColumnName("group_uid");

                    b.Property<Guid>("GroupUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("group_uid1");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<bool>("IsCurator")
                        .HasColumnType("boolean")
                        .HasColumnName("is_curator");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("SubjectUid")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid");

                    b.Property<Guid>("SubjectUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid1");

                    b.Property<Guid>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<Guid>("TeacherUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_teacher_groups");

                    b.HasIndex("GroupUid")
                        .HasDatabaseName("ix_teacher_groups_group_uid");

                    b.HasIndex("GroupUid1")
                        .HasDatabaseName("ix_teacher_groups_group_uid1");

                    b.HasIndex("SubjectUid")
                        .HasDatabaseName("ix_teacher_groups_subject_uid");

                    b.HasIndex("SubjectUid1")
                        .HasDatabaseName("ix_teacher_groups_subject_uid1");

                    b.HasIndex("TeacherUid1")
                        .HasDatabaseName("ix_teacher_groups_teacher_uid1");

                    b.HasIndex("TeacherUid", "GroupUid", "SubjectUid")
                        .IsUnique()
                        .HasDatabaseName("ix_teacher_groups_teacher_uid_group_uid_subject_uid");

                    b.ToTable("teacher_groups", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.TeacherSubject", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("AssignedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("assigned_date")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("DeactivatedDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deactivated_date");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<bool>("IsMainTeacher")
                        .HasColumnType("boolean")
                        .HasColumnName("is_main_teacher");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("SubjectUid")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid");

                    b.Property<Guid?>("SubjectUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid1");

                    b.Property<Guid>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<Guid?>("TeacherUid1")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid1");

                    b.HasKey("Uid")
                        .HasName("pk_teacher_subjects");

                    b.HasIndex("SubjectUid")
                        .HasDatabaseName("ix_teacher_subjects_subject_uid");

                    b.HasIndex("SubjectUid1")
                        .HasDatabaseName("ix_teacher_subjects_subject_uid1");

                    b.HasIndex("TeacherUid1")
                        .HasDatabaseName("ix_teacher_subjects_teacher_uid1");

                    b.HasIndex("TeacherUid", "SubjectUid")
                        .IsUnique()
                        .HasDatabaseName("ix_teacher_subjects_teacher_uid_subject_uid");

                    b.ToTable("teacher_subjects", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Attendance", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<DateTime>("CheckedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("checked_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("CheckedByUid")
                        .HasColumnType("uuid")
                        .HasColumnName("checked_by_uid");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<Guid>("LessonUid")
                        .HasColumnType("uuid")
                        .HasColumnName("lesson_uid");

                    b.Property<string>("Notes")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("notes");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<Guid>("StudentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("student_uid");

                    b.HasKey("Uid")
                        .HasName("pk_attendances");

                    b.HasIndex("CheckedByUid")
                        .HasDatabaseName("ix_attendances_checked_by_uid");

                    b.HasIndex("LessonUid")
                        .HasDatabaseName("ix_attendances_lesson_uid");

                    b.HasIndex("StudentUid", "LessonUid")
                        .IsUnique()
                        .HasDatabaseName("ix_attendances_student_uid_lesson_uid");

                    b.ToTable("attendances", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Department", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("code");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<Guid?>("HeadOfDepartmentUid")
                        .HasColumnType("uuid")
                        .HasColumnName("head_of_department_uid");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.HasKey("Uid")
                        .HasName("pk_departments");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("ix_departments_code");

                    b.HasIndex("HeadOfDepartmentUid")
                        .HasDatabaseName("ix_departments_head_of_department_uid");

                    b.ToTable("departments", (string)null);

                    b.HasData(
                        new
                        {
                            Uid = new Guid("66666666-6666-6666-6666-666666666666"),
                            Code = "IT",
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Description = "Кафедра информационных технологий и программирования",
                            IsActive = true,
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Name = "Информационные технологии"
                        },
                        new
                        {
                            Uid = new Guid("77777777-7777-7777-7777-777777777777"),
                            Code = "MATH",
                            CreatedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Description = "Кафедра высшей математики и математического анализа",
                            IsActive = true,
                            LastModifiedAt = new DateTime(2024, 1, 1, 0, 0, 0, 0, DateTimeKind.Utc),
                            Name = "Математический анализ"
                        });
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.FileRecord", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("ContentType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("content_type");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("description");

                    b.Property<string>("EntityType")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("entity_type");

                    b.Property<Guid?>("EntityUid")
                        .HasColumnType("uuid")
                        .HasColumnName("entity_uid");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("file_path");

                    b.Property<long>("FileSize")
                        .HasColumnType("bigint")
                        .HasColumnName("file_size");

                    b.Property<bool>("IsPublic")
                        .HasColumnType("boolean")
                        .HasColumnName("is_public");

                    b.Property<DateTime?>("LastModifiedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("OriginalFileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("original_file_name");

                    b.Property<string>("StoredFileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("stored_file_name");

                    b.Property<Guid>("UploadedByUid")
                        .HasColumnType("uuid")
                        .HasColumnName("uploaded_by_uid");

                    b.HasKey("Uid")
                        .HasName("pk_file_records");

                    b.HasIndex("ContentType")
                        .HasDatabaseName("ix_file_records_content_type");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("ix_file_records_created_at");

                    b.HasIndex("IsPublic")
                        .HasDatabaseName("ix_file_records_is_public");

                    b.HasIndex("UploadedByUid")
                        .HasDatabaseName("ix_file_records_uploaded_by_uid");

                    b.HasIndex("EntityType", "EntityUid")
                        .HasDatabaseName("ix_file_records_entity_type_entity_uid");

                    b.ToTable("file_records", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Notification", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("ActionUrl")
                        .HasColumnType("text")
                        .HasColumnName("action_url");

                    b.Property<string>("Category")
                        .HasColumnType("text")
                        .HasColumnName("category");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<DateTime?>("ExpiresAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires_at");

                    b.Property<bool>("IsImportant")
                        .HasColumnType("boolean")
                        .HasColumnName("is_important");

                    b.Property<bool>("IsRead")
                        .HasColumnType("boolean")
                        .HasColumnName("is_read");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("message");

                    b.Property<string>("Metadata")
                        .HasColumnType("text")
                        .HasColumnName("metadata");

                    b.Property<string>("MetadataJson")
                        .HasColumnType("text")
                        .HasColumnName("metadata_json");

                    b.Property<int>("Priority")
                        .HasColumnType("integer")
                        .HasColumnName("priority");

                    b.Property<DateTime?>("ReadAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("read_at");

                    b.Property<Guid>("RecipientUid")
                        .HasColumnType("uuid")
                        .HasColumnName("recipient_uid");

                    b.Property<TimeSpan?>("RepeatInterval")
                        .HasColumnType("interval")
                        .HasColumnName("repeat_interval");

                    b.Property<DateTime?>("ScheduledFor")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("scheduled_for");

                    b.Property<DateTime>("SentAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("sent_at")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("title");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_notifications");

                    b.HasIndex("SentAt")
                        .HasDatabaseName("ix_notifications_sent_at");

                    b.HasIndex("Type")
                        .HasDatabaseName("ix_notifications_type");

                    b.HasIndex("RecipientUid", "IsRead")
                        .HasDatabaseName("ix_notifications_recipient_uid_is_read");

                    b.ToTable("notifications", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.NotificationSettings", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("CategorySettings")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("category_settings");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<bool>("EmailNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("email_notifications");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<int>("MinimumPriority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0)
                        .HasColumnName("minimum_priority");

                    b.Property<bool>("PushNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("push_notifications");

                    b.Property<TimeSpan>("QuietHoursEnd")
                        .HasColumnType("interval")
                        .HasColumnName("quiet_hours_end");

                    b.Property<TimeSpan>("QuietHoursStart")
                        .HasColumnType("interval")
                        .HasColumnName("quiet_hours_start");

                    b.Property<bool>("SmsNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("sms_notifications");

                    b.Property<string>("TypeSettings")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("type_settings");

                    b.Property<Guid>("UserUid")
                        .HasColumnType("uuid")
                        .HasColumnName("user_uid");

                    b.Property<bool>("WeekendNotifications")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false)
                        .HasColumnName("weekend_notifications");

                    b.HasKey("Uid")
                        .HasName("pk_notification_settings");

                    b.HasIndex("UserUid")
                        .IsUnique()
                        .HasDatabaseName("ix_notification_settings_user_uid");

                    b.ToTable("notification_settings", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.NotificationTemplate", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Category")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("category");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)")
                        .HasColumnName("description");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true)
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<string>("MessageTemplate")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("message_template");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name");

                    b.Property<string>("Parameters")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("parameters");

                    b.Property<int>("Priority")
                        .HasColumnType("integer")
                        .HasColumnName("priority");

                    b.Property<string>("TitleTemplate")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("title_template");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.HasKey("Uid")
                        .HasName("pk_notification_templates");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("ix_notification_templates_is_active");

                    b.HasIndex("Name")
                        .HasDatabaseName("ix_notification_templates_name");

                    b.HasIndex("Type")
                        .HasDatabaseName("ix_notification_templates_type");

                    b.ToTable("notification_templates", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Schedule", b =>
                {
                    b.Property<Guid>("Uid")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("uid");

                    b.Property<string>("Classroom")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("classroom");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_at");

                    b.Property<int>("DayOfWeek")
                        .HasColumnType("integer")
                        .HasColumnName("day_of_week");

                    b.Property<TimeSpan>("EndTime")
                        .HasColumnType("interval")
                        .HasColumnName("end_time");

                    b.Property<Guid>("GroupUid")
                        .HasColumnType("uuid")
                        .HasColumnName("group_uid");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<DateTime?>("LastModifiedAt")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_modified_at");

                    b.Property<TimeSpan>("StartTime")
                        .HasColumnType("interval")
                        .HasColumnName("start_time");

                    b.Property<Guid>("SubjectUid")
                        .HasColumnType("uuid")
                        .HasColumnName("subject_uid");

                    b.Property<Guid>("TeacherUid")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_uid");

                    b.Property<int>("Type")
                        .HasColumnType("integer")
                        .HasColumnName("type");

                    b.Property<DateTime>("ValidFrom")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("valid_from")
                        .HasDefaultValueSql("CURRENT_DATE");

                    b.Property<DateTime?>("ValidTo")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("valid_to");

                    b.HasKey("Uid")
                        .HasName("pk_schedules");

                    b.HasIndex("SubjectUid")
                        .HasDatabaseName("ix_schedules_subject_uid");

                    b.HasIndex("ValidFrom")
                        .HasDatabaseName("ix_schedules_valid_from");

                    b.HasIndex("GroupUid", "DayOfWeek", "StartTime")
                        .HasDatabaseName("ix_schedules_group_uid_day_of_week_start_time");

                    b.HasIndex("TeacherUid", "DayOfWeek", "StartTime")
                        .HasDatabaseName("ix_schedules_teacher_uid_day_of_week_start_time");

                    b.ToTable("schedules", (string)null);
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.RolePermission", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Permission", null)
                        .WithMany()
                        .HasForeignKey("PermissionUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_role_permissions_permissions_permission_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Permission", "Permission")
                        .WithMany()
                        .HasForeignKey("PermissionUid1")
                        .HasConstraintName("fk_role_permissions_permissions_permission_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_role_permissions_roles_role_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Role", "Role")
                        .WithMany()
                        .HasForeignKey("RoleUid1")
                        .HasConstraintName("fk_role_permissions_roles_role_uid1");

                    b.Navigation("Permission");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.User", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Role", "Role")
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_users_roles_role_id");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.UserRole", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.Role", "Role")
                        .WithMany()
                        .HasForeignKey("RoleUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_user_roles_roles_role_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", null)
                        .WithMany()
                        .HasForeignKey("UserUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_user_roles_users_user_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", "User")
                        .WithMany("UserRoles")
                        .HasForeignKey("UserUid1")
                        .HasConstraintName("fk_user_roles_users_user_uid1");

                    b.Navigation("Role");

                    b.Navigation("User");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Assignment", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", null)
                        .WithMany()
                        .HasForeignKey("CourseUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_assignments_courses_course_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", "Course")
                        .WithMany("Assignments")
                        .HasForeignKey("CourseUid1")
                        .HasConstraintName("fk_assignments_courses_course_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", null)
                        .WithMany()
                        .HasForeignKey("LessonUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_assignments_lessons_lesson_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", "Lesson")
                        .WithMany()
                        .HasForeignKey("LessonUid1")
                        .HasConstraintName("fk_assignments_lessons_lesson_uid1");

                    b.Navigation("Course");

                    b.Navigation("Lesson");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Course", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_courses_teachers_teacher_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Teacher")
                        .WithMany("Courses")
                        .HasForeignKey("TeacherUid1")
                        .HasConstraintName("fk_courses_teachers_teacher_uid1");

                    b.Navigation("Teacher");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Enrollment", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", null)
                        .WithMany()
                        .HasForeignKey("CourseUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_enrollments_courses_course_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", "Course")
                        .WithMany("Enrollments")
                        .HasForeignKey("CourseUid1")
                        .HasConstraintName("fk_enrollments_courses_course_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", null)
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_enrollments_students_student_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", "Student")
                        .WithMany()
                        .HasForeignKey("StudentUid1")
                        .HasConstraintName("fk_enrollments_students_student_uid1");

                    b.Navigation("Course");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Grade", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Assignment", "Assignment")
                        .WithMany()
                        .HasForeignKey("AssignmentUid")
                        .HasConstraintName("fk_grades_assignments_assignment_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "GradedBy")
                        .WithMany()
                        .HasForeignKey("GradedByUid")
                        .HasConstraintName("fk_grades_teachers_graded_by_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", null)
                        .WithMany()
                        .HasForeignKey("LessonUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_grades_lessons_lesson_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", null)
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_grades_students_student_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", "Student")
                        .WithMany("Grades")
                        .HasForeignKey("StudentUid1")
                        .HasConstraintName("fk_grades_students_student_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", null)
                        .WithMany()
                        .HasForeignKey("SubjectUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_grades_subjects_subject_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", "Subject")
                        .WithMany()
                        .HasForeignKey("SubjectUid1")
                        .HasConstraintName("fk_grades_subjects_subject_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .IsRequired()
                        .HasConstraintName("fk_grades_teachers_teacher_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Teacher")
                        .WithMany()
                        .HasForeignKey("TeacherUid1")
                        .HasConstraintName("fk_grades_teachers_teacher_uid1");

                    b.Navigation("Assignment");

                    b.Navigation("GradedBy");

                    b.Navigation("Student");

                    b.Navigation("Subject");

                    b.Navigation("Teacher");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.GradeComment", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Grade", null)
                        .WithMany()
                        .HasForeignKey("GradeUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_grade_comments_grades_grade_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Grade", null)
                        .WithMany("Comments")
                        .HasForeignKey("GradeUid1")
                        .HasConstraintName("fk_grade_comments_grades_grade_uid1");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.GradeRevision", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Grade", null)
                        .WithMany()
                        .HasForeignKey("GradeUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_grade_revisions_grades_grade_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Grade", null)
                        .WithMany("Revisions")
                        .HasForeignKey("GradeUid1")
                        .HasConstraintName("fk_grade_revisions_grades_grade_uid1");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Group", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Curator")
                        .WithMany()
                        .HasForeignKey("CuratorUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_groups_teachers_curator_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.System.Department", null)
                        .WithMany("Groups")
                        .HasForeignKey("DepartmentUid")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_groups_departments_department_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany("CuratedGroups")
                        .HasForeignKey("TeacherUid")
                        .HasConstraintName("fk_groups_teachers_teacher_uid");

                    b.Navigation("Curator");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Lesson", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Group", null)
                        .WithMany()
                        .HasForeignKey("GroupUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_lessons_groups_group_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Module", "Module")
                        .WithMany("Lessons")
                        .HasForeignKey("ModuleUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_lessons_modules_module_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", null)
                        .WithMany()
                        .HasForeignKey("SubjectUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("fk_lessons_subjects_subject_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_lessons_teachers_teacher_uid");

                    b.Navigation("Module");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.LessonDetail", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", null)
                        .WithMany()
                        .HasForeignKey("LessonUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_lesson_details_lessons_lesson_uid");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.LessonProgress", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", "Lesson")
                        .WithMany("LessonProgress")
                        .HasForeignKey("LessonUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_lesson_progress_lessons_lesson_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", "Student")
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_lesson_progress_students_student_uid");

                    b.Navigation("Lesson");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Module", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", null)
                        .WithMany()
                        .HasForeignKey("CourseUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_modules_courses_course_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Course", "Course")
                        .WithMany("Modules")
                        .HasForeignKey("CourseUid1")
                        .HasConstraintName("fk_modules_courses_course_uid1");

                    b.Navigation("Course");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Student", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Group", "Group")
                        .WithMany("Students")
                        .HasForeignKey("GroupUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_students_groups_group_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", null)
                        .WithOne("StudentProfile")
                        .HasForeignKey("ViridiscaUi.Domain.Models.Education.Student", "UserUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("fk_students_users_user_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", "User")
                        .WithMany()
                        .HasForeignKey("UserUid1")
                        .HasConstraintName("fk_students_users_user_uid1");

                    b.Navigation("Group");

                    b.Navigation("User");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.StudentParent", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", null)
                        .WithMany()
                        .HasForeignKey("ParentUserUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_student_parents_users_parent_user_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", null)
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_student_parents_students_student_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", null)
                        .WithMany("Parents")
                        .HasForeignKey("StudentUid1")
                        .HasConstraintName("fk_student_parents_students_student_uid1");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Subject", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.System.Department", null)
                        .WithMany("Subjects")
                        .HasForeignKey("DepartmentUid")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_subjects_departments_department_uid");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Submission", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Assignment", null)
                        .WithMany()
                        .HasForeignKey("AssignmentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_submissions_assignments_assignment_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Assignment", "Assignment")
                        .WithMany("Submissions")
                        .HasForeignKey("AssignmentUid1")
                        .HasConstraintName("fk_submissions_assignments_assignment_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "GradedBy")
                        .WithMany()
                        .HasForeignKey("GradedByUid")
                        .HasConstraintName("fk_submissions_teachers_graded_by_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", null)
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_submissions_students_student_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", "Student")
                        .WithMany()
                        .HasForeignKey("StudentUid1")
                        .HasConstraintName("fk_submissions_students_student_uid1");

                    b.Navigation("Assignment");

                    b.Navigation("GradedBy");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Teacher", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.System.Department", null)
                        .WithMany("Teachers")
                        .HasForeignKey("DepartmentUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_teachers_departments_department_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", null)
                        .WithOne("TeacherProfile")
                        .HasForeignKey("ViridiscaUi.Domain.Models.Education.Teacher", "UserUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("fk_teachers_users_user_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", "User")
                        .WithMany()
                        .HasForeignKey("UserUid1")
                        .HasConstraintName("fk_teachers_users_user_uid1");

                    b.Navigation("User");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.TeacherGroup", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Group", null)
                        .WithMany()
                        .HasForeignKey("GroupUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_groups_group_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupUid1")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_groups_group_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", null)
                        .WithMany()
                        .HasForeignKey("SubjectUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_subjects_subject_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", "Subject")
                        .WithMany()
                        .HasForeignKey("SubjectUid1")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_subjects_subject_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_teachers_teacher_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Teacher")
                        .WithMany()
                        .HasForeignKey("TeacherUid1")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_groups_teachers_teacher_uid1");

                    b.Navigation("Group");

                    b.Navigation("Subject");

                    b.Navigation("Teacher");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.TeacherSubject", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", null)
                        .WithMany()
                        .HasForeignKey("SubjectUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_subjects_subjects_subject_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", "Subject")
                        .WithMany("TeacherSubjects")
                        .HasForeignKey("SubjectUid1")
                        .HasConstraintName("fk_teacher_subjects_subjects_subject_uid1");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_teacher_subjects_teachers_teacher_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Teacher")
                        .WithMany("Subjects")
                        .HasForeignKey("TeacherUid1")
                        .HasConstraintName("fk_teacher_subjects_teachers_teacher_uid1");

                    b.Navigation("Subject");

                    b.Navigation("Teacher");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Attendance", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", null)
                        .WithMany()
                        .HasForeignKey("CheckedByUid")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_attendances_teachers_checked_by_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Lesson", "Lesson")
                        .WithMany()
                        .HasForeignKey("LessonUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_attendances_lessons_lesson_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Student", "Student")
                        .WithMany()
                        .HasForeignKey("StudentUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_attendances_students_student_uid");

                    b.Navigation("Lesson");

                    b.Navigation("Student");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Department", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "HeadOfDepartment")
                        .WithMany()
                        .HasForeignKey("HeadOfDepartmentUid")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("fk_departments_teachers_head_of_department_uid");

                    b.Navigation("HeadOfDepartment");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Notification", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", "Recipient")
                        .WithMany()
                        .HasForeignKey("RecipientUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_notifications_users_recipient_uid");

                    b.Navigation("Recipient");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.NotificationSettings", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Auth.User", null)
                        .WithMany()
                        .HasForeignKey("UserUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_notification_settings_users_user_uid");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Schedule", b =>
                {
                    b.HasOne("ViridiscaUi.Domain.Models.Education.Group", "Group")
                        .WithMany()
                        .HasForeignKey("GroupUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_schedules_groups_group_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Subject", "Subject")
                        .WithMany()
                        .HasForeignKey("SubjectUid")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_schedules_subjects_subject_uid");

                    b.HasOne("ViridiscaUi.Domain.Models.Education.Teacher", "Teacher")
                        .WithMany()
                        .HasForeignKey("TeacherUid")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired()
                        .HasConstraintName("fk_schedules_teachers_teacher_uid");

                    b.Navigation("Group");

                    b.Navigation("Subject");

                    b.Navigation("Teacher");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Auth.User", b =>
                {
                    b.Navigation("StudentProfile");

                    b.Navigation("TeacherProfile");

                    b.Navigation("UserRoles");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Assignment", b =>
                {
                    b.Navigation("Submissions");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Course", b =>
                {
                    b.Navigation("Assignments");

                    b.Navigation("Enrollments");

                    b.Navigation("Modules");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Grade", b =>
                {
                    b.Navigation("Comments");

                    b.Navigation("Revisions");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Group", b =>
                {
                    b.Navigation("Students");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Lesson", b =>
                {
                    b.Navigation("LessonProgress");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Module", b =>
                {
                    b.Navigation("Lessons");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Student", b =>
                {
                    b.Navigation("Grades");

                    b.Navigation("Parents");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Subject", b =>
                {
                    b.Navigation("TeacherSubjects");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.Education.Teacher", b =>
                {
                    b.Navigation("Courses");

                    b.Navigation("CuratedGroups");

                    b.Navigation("Subjects");
                });

            modelBuilder.Entity("ViridiscaUi.Domain.Models.System.Department", b =>
                {
                    b.Navigation("Groups");

                    b.Navigation("Subjects");

                    b.Navigation("Teachers");
                });
#pragma warning restore 612, 618
        }
    }
}
